/* =========================
   BusSight • UI v2 (cores originais)
   ========================= */
:root{
  /* Paleta original */
  --blue-deep:#0c2f6e;     /* azul mais escuro */
  --blue-royal:#204c8c;    /* azul médio/royal */
  --blue-accent:#1f5fb8;   /* realce */
  --gray-metal:#c6c8cc;    /* cinza do topo */
  --gray-bg:#eef1f5;
  --ink:#0b1220;
  --ok:#1f8b4c;
  --warn:#b81f2b;
  --white:#fff;

  /* Tokens de UI (novos, neutros) */
  --gray-100:#f7f9fc;
  --gray-200:#eef1f5;
  --gray-300:#e6eaf0;
  --gray-400:#d7dbe2;

  --radius-sm:10px;
  --radius:14px;
  --radius-lg:18px;
  --shadow-1:0 1px 2px rgba(11,18,32,.06), 0 0 0 1px rgba(11,18,32,.03);
  --shadow-2:0 10px 24px rgba(11,18,32,.06), 0 2px 8px rgba(11,18,32,.08);
  --focus:0 0 0 3px rgba(31,95,184,.22);

  --space-1:8px; --space-2:12px; --space-3:16px; --space-4:20px; --space-5:24px; --space-6:32px;
  --font-ui:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0;font-family:var(--font-ui);color:var(--ink)}
.bg{background:linear-gradient(180deg,var(--gray-bg),#fff 40%)}
.container{max-width:1120px;margin:0 auto;padding:0 var(--space-3)}

/* Topbar (cores originais) */
/* ===== Navbar melhorada (cores originais) ===== */

/* Barra */
.topbar{
  position: sticky; top: 0; z-index: 50;
  background: linear-gradient(180deg, var(--gray-metal), #d9dde3);
  border-bottom: 6px solid var(--blue-deep);   /* um pouco mais fino = menos pesado */
  box-shadow: 0 2px 10px rgba(11,18,32,.08);
}

/* Container da marca */
.brand{
  display: flex; align-items: center; gap: 14px;
  padding: 10px 0; min-height: 68px;           /* altura consistente */
}

/* Badge da logo (melhora nitidez por contraste/controlar fundo) */
.brand-logo{
  width: 56px; height: 56px;                   /* pixels inteiros = menos blur */
  padding: 6px;                                 /* respiro dentro do badge */
  background: #fff;
  border-radius: 14px;
  border: 1px solid #e6eaf0;
  box-shadow: 0 2px 6px rgba(11,18,32,.10);
  object-fit: contain;
  image-rendering: auto;                        /* mantém nítido em SVG/PNG */
  -webkit-transform: translateZ(0);             /* evita “soft blur” em alguns navegadores */
  transform: translateZ(0);
}

/* Título e subtítulo com melhor hierarquia e tracking */
.brand h1{
  margin: 0;
  font-size: 22px;
  line-height: 1.15;
  color: var(--blue-deep);
  letter-spacing: .2px;
  font-weight: 750;
}
.brand small{
  display:block;
  margin-top: 2px;
  font-size: 13px;
  color: var(--blue-royal);
  opacity: .95;
}

/* Resposividade: comprime um pouco em telas estreitas */
@media (max-width: 720px){
  .brand{ gap: 10px; min-height: 60px; }
  .brand-logo{ width: 48px; height: 48px; padding: 5px; border-radius: 12px; }
  .brand h1{ font-size: 18px; }
  .brand small{ font-size: 12px; }
}


/* Layout */
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;margin:20px 0}
@media (max-width:980px){.grid{grid-template-columns:1fr}}
.card{background:var(--white);border-radius:var(--radius);box-shadow:var(--shadow-2);padding:18px}
.card h2{margin:0 0 10px;color:var(--blue-deep);font-size:18px}
.card.subtle{background:var(--gray-100);border:1px solid var(--gray-300);box-shadow:var(--shadow-1)}

/* Campos */
.field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
.label-row{display:flex;align-items:center;gap:10px;justify-content:space-between}
.help{color:#667085;font-size:12px}
input[type="file"],input[type="number"]{
  padding:10px 12px;border:1px solid var(--gray-400);border-radius:12px;background:#fff;outline:none;
  transition:border-color .15s ease, box-shadow .15s ease, transform .02s ease;
}
input[type="file"]:focus-visible,input[type="number"]:focus-visible{box-shadow:var(--focus);border-color:var(--blue-accent)}
input[type="number"]:hover{border-color:#c1c7d0}

/* Preview */
.preview{
  position:relative;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden;background:#f6f7fb;margin:10px 0;min-height:160px;
}
.preview.is-active{border-style:solid;border-color:var(--blue-accent);box-shadow:var(--focus)}
.preview video{width:100%;max-height:420px;display:block;background:#000}
.preview canvas{position:absolute;inset:0;pointer-events:none}

/* ⚠️ DICA voltou para a posição original */
.overlay-hint{
  position:absolute; left:100px; bottom:270px;
  background:rgba(0,0,0,.7); color:#fff;
  padding:6px 10px; border-radius:8px; font-size:13px;
  font-family:system-ui, sans-serif; pointer-events:none;
}

/* Grid auxiliar */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:680px){.grid-2{grid-template-columns:1fr}}

/* Details (opções avançadas) */
details.card.subtle{padding:0;overflow:hidden}
details>summary{
  list-style:none;padding:14px 16px;cursor:pointer;font-weight:600;color:var(--blue-royal);
  display:flex;align-items:center;gap:8px;
}
details>summary::marker,details>summary::-webkit-details-marker{display:none}
details[open]>summary{border-bottom:1px solid var(--gray-300);background:linear-gradient(180deg,#fff,#fafcff)}
details .grid-2{padding:14px 16px}

/* Botões */
.actions{display:flex;gap:10px;margin-top:8px;flex-wrap:wrap}
.btn{
  border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer;
  transition:transform .02s ease, box-shadow .15s ease, opacity .2s ease;
  display:inline-flex;align-items:center;gap:8px;
}
.btn:active{transform:translateY(1px)}
.btn.primary{
  background:linear-gradient(180deg,var(--blue-royal),var(--blue-deep));color:#fff;
  box-shadow:0 6px 14px rgba(12,47,110,.25);
}
.btn.primary:hover{filter:brightness(1.05)}
.btn.outline{background:#fff;color:var(--blue-royal);border:2px solid var(--blue-royal)}
.btn:disabled{opacity:.6;cursor:not-allowed}

/* Status & Resultados */
.status{
  padding:10px 12px;border-radius:10px;background:var(--gray-100);border:1px solid var(--gray-300);
  margin-bottom:12px;color:#475569;display:flex;align-items:center;gap:8px;
}
.status[data-state="working"]{border-color:#1f5fb855;box-shadow:0 0 0 3px rgba(31,95,184,.08) inset}
.status[data-state="ok"]{border-color:#1f8b4c55}
.status[data-state="warn"]{border-color:#b81f2b55}

.results.hidden,.windows.hidden,.video-out.hidden{display:none}

/* KPIs */
.numbers{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:10px 0 16px}
.pill{
  display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
  padding:16px;border-radius:14px;background:#f0f3f9;border:1px solid #e4e9f2;min-height:84px;
}
.pill span{font-size:30px;font-weight:800;line-height:1}
.pill small{color:#64748b}
.pill.in{box-shadow:inset 0 0 0 2px #1f8b4c22}
.pill.out{box-shadow:inset 0 0 0 2px #b81f2b22}

/* Downloads */
.downloads{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.downloads a{
  display:inline-block;margin:6px 8px 0 0;padding:8px 12px;border-radius:10px;
  background:var(--blue-royal);color:#fff;text-decoration:none;font-size:14px;box-shadow:var(--shadow-1)
}
.downloads a.secondary{background:var(--blue-deep)}

/* Tabela */
#windowsWrap h3,#annotatedWrap h3{margin:8px 0 8px;font-size:16px;color:#1f2937}
.table-wrap{border-radius:12px;overflow:hidden;border:1px solid var(--gray-300);background:#fff}
table{width:100%;border-collapse:collapse}
th,td{padding:12px;border-bottom:1px solid var(--gray-300);text-align:left}
thead{background:var(--gray-100);position:sticky;top:0;z-index:1}
tbody tr:hover{background:#f9fbff}

/* Footer e utils */
.footer{margin:24px 0 40px;color:#5b6b82}
.hidden{display:none!important}
.row{display:flex}.gap{gap:10px}.col{flex:1}

/* Acessibilidade (teclado) */
:where(button,[role="button"],a,input,summary,video):focus-visible{outline:none;box-shadow:var(--focus)}

/* Respeita redução de movimento */
@media (prefers-reduced-motion:reduce){
  *{transition:none!important;animation:none!important}
}
